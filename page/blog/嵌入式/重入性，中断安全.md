# 重入性，中断安全

在中断函数中调用 printf 函数、使用 static 或全局变量的函数可能导致错误，发现某些情况中断导致错误。

原因在于变量。使用全局变量过程中，如果中断函数改变此变量，可能导致问题。

解决方法：

1. 使用互斥锁

   互斥锁用于多线程（中断大概也算多线程？）。它是一个 bool 变量，一个函数使用时上锁，其他函数检测上锁不可使用，使用后解锁。

2. 中断慎用全局变量，使用缓冲变量

